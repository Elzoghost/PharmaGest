<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PharmaGest</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
<style>
:root {
  --jade: #0b3d2e;
  --forest: #06532b;
  --white: #fff;
  --cream: #f7f6f3;
  --border: #d1d1d1;
  --muted: #555;
}

/* ===== Global ===== */
body { margin:0; font-family:'DM Sans',sans-serif; background:#fefefe; color:#222; }
button { font-family:'DM Sans',sans-serif; }

/* ===== Modal ===== */
.modal-ovl {
  position: fixed; inset:0; background:rgba(7,15,12,.75); backdrop-filter:blur(10px);
  z-index:1000; display:none; align-items:center; justify-content:center; padding:16px;
}
.modal-ovl.open { display:flex; }
.modal-box {
  background:var(--white); border-radius:20px; width:100%; max-width:500px; overflow:hidden;
  box-shadow:0 40px 80px rgba(0,0,0,.35); max-height:92vh; overflow-y:auto;
  transform:translateY(-20px); opacity:0; transition:all .4s ease;
}
.modal-box.in { transform:translateY(0); opacity:1; }

.modal-hd { background:linear-gradient(135deg,var(--jade),var(--forest)); padding:26px 28px; color:#fff; position:relative; }
.modal-hd h3 { font-family:'Playfair Display',serif; font-size:1.35rem; margin-bottom:5px; }
.modal-hd p { font-size:.82rem; opacity:.65; }

.modal-close-btn {
  position:absolute; top:16px; right:16px; background:rgba(255,255,255,.15);
  border:none; color:#fff; width:30px; height:30px; border-radius:50%; cursor:pointer; font-size:.9rem;
}

.modal-bd { padding:26px 28px; }
.f-2 { display:grid; grid-template-columns:1fr 1fr; gap:12px; }
.f-row { margin-bottom:16px; }
.f-row label { display:block; font-size:.78rem; font-weight:600; color:var(--jade); margin-bottom:5px; }
.f-row input { width:100%; padding:10px 13px; border:1.5px solid var(--border); border-radius:8px; font-size:.86rem; outline:none; background:var(--cream); transition:border-color .2s; }
.f-row input:focus { border-color:var(--jade); }

.plan-radios { display:grid; grid-template-columns:repeat(3,1fr); gap:8px; margin-top:5px; }
.pr input { position:absolute; opacity:0; pointer-events:none; }
.pr label { display:block; border:2px solid var(--border); border-radius:10px; padding:11px 8px; text-align:center; cursor:pointer; transition:all .2s; background:var(--cream); }
.pr input:checked + label { border-color:var(--jade); background:rgba(11,61,46,.05); }

.pay-row { display:flex; gap:8px; margin-top:6px; }
.pay-opt { flex:1; padding:9px; border:2px solid var(--border); border-radius:8px; background:var(--cream); cursor:pointer; font-size:.78rem; font-weight:600; transition:all .2s; }
.pay-opt.sel { border-color:var(--jade); background:rgba(11,61,46,.05); color:var(--jade); }

.submit-btn { width:100%; padding:13px; background:linear-gradient(135deg,var(--jade),var(--forest)); color:#fff; border:none; border-radius:10px; font-size:.92rem; font-weight:700; cursor:pointer; transition:all .25s; margin-top:4px; }
.submit-btn:disabled { opacity:.55; cursor:not-allowed; }

.f-note { font-size:.72rem; color:var(--muted); text-align:center; margin-top:12px; line-height:1.6; }

/* ===== Bouton ouverture modal exemple ===== */
.openModalBtn { padding:12px 20px; font-size:1rem; background:var(--jade); color:#fff; border:none; border-radius:8px; cursor:pointer; transition:all .2s; }
.openModalBtn:hover { background:var(--forest); }
</style>
</head>
<body>

<!-- ===== Exemple contenu ===== -->
<header style="padding:20px; text-align:center;">
  <h1>Bienvenue sur PharmaGest</h1>
  <button class="openModalBtn" onclick="showModal()">Essai Gratuit</button>
</header>

<main style="padding:20px; text-align:center;">
  <p>Votre gestion de pharmacie simplifiée.</p>
</main>

<!-- ===== Modal Essai Gratuit ===== -->
<div class="modal-ovl" id="regModal" onclick="if(event.target===this) hideModal()">
  <div class="modal-box">
    <div class="modal-hd">
      <button class="modal-close-btn" onclick="hideModal()">&#10005;</button>
      <h3>Créer votre compte</h3>
      <p>30 jours gratuits · Aucune carte requise · Prêt en 5 min</p>
    </div>
    <div class="modal-bd" id="regBody">
      <div class="f-2">
        <div class="f-row"><label>Nom de la pharmacie *</label><input id="rNom" type="text" placeholder="Pharmacie Centrale"></div>
        <div class="f-row"><label>Ville *</label><input id="rVille" type="text" placeholder="Dakar, Thiès..."></div>
      </div>
      <div class="f-2">
        <div class="f-row"><label>Votre nom *</label><input id="rContact" type="text" placeholder="Dr. Prénom Nom"></div>
        <div class="f-row"><label>Téléphone *</label><input id="rTel" type="tel" placeholder="+221 77 XXX XX XX"></div>
      </div>
      <div class="f-row"><label>Email *</label><input id="rEmail" type="email" placeholder="contact@pharmacie.sn"></div>

      <div class="f-row">
        <label>Votre plan</label>
        <div class="plan-radios">
          <div class="pr"><input type="radio" name="rp" id="rpS" value="Starter"><label for="rpS"><span class="pr-name">Starter</span><span class="pr-price">15 000</span><span class="pr-per">FCFA/mois</span></label></div>
          <div class="pr"><input type="radio" name="rp" id="rpP" value="Professionnel" checked><label for="rpP"><span class="pr-name">Pro ★</span><span class="pr-price">29 000</span><span class="pr-per">FCFA/mois</span></label></div>
          <div class="pr"><input type="radio" name="rp" id="rpE" value="Entreprise"><label for="rpE"><span class="pr-name">Entreprise</span><span class="pr-price">55 000</span><span class="pr-per">FCFA/mois</span></label></div>
        </div>
      </div>

      <div class="f-row">
        <label>Mode de paiement (après essai)</label>
        <div class="pay-row">
          <button type="button" class="pay-opt sel" onclick="selPay(this,'Wave')">Wave</button>
          <button type="button" class="pay-opt" onclick="selPay(this,'Orange Money')">Orange Money</button>
          <button type="button" class="pay-opt" onclick="selPay(this,'Carte')">Carte</button>
        </div>
      </div>

      <button class="submit-btn" id="regBtn" onclick="submitReg()">Créer mon compte gratuit</button>
      <p class="f-note">En créant un compte vous acceptez nos <a href="#" style="color:var(--jade)">CGU</a>.</p>
    </div>
  </div>
</div>

<script>
// === Modal ===
function showModal(plan) {
  const modal = document.getElementById('regModal');
  modal.classList.add('open');
  document.body.style.overflow = 'hidden';
  setTimeout(()=> modal.querySelector('.modal-box').classList.add('in'), 10);

  if(plan) {
    const m = {Starter:'rpS', Professionnel:'rpP', Entreprise:'rpE'};
    if(m[plan]) document.getElementById(m[plan]).checked = true;
  }
}

function hideModal() {
  const modal = document.getElementById('regModal');
  modal.querySelector('.modal-box').classList.remove('in');
  setTimeout(()=> {
    modal.classList.remove('open');
    document.body.style.overflow = '';
  }, 300);
}

// === Paiement ===
var payMethod = 'Wave';
function selPay(btn, method) {
  document.querySelectorAll('.pay-opt').forEach(b => b.classList.remove('sel'));
  btn.classList.add('sel');
  payMethod = method;
}

// === Soumission formulaire ===
function submitReg() {
  const nom = document.getElementById('rNom').value.trim();
  const ville = document.getElementById('rVille').value.trim();
  const contact = document.getElementById('rContact').value.trim();
  const tel = document.getElementById('rTel').value.trim();
  const email = document.getElementById('rEmail').value.trim();
  const plan = document.querySelector('input[name="rp"]:checked').value;

  if(!nom || !ville || !contact || !tel || !email) {
    alert('Veuillez remplir tous les champs obligatoires.');
    return;
  }

  console.log({nom, ville, contact, tel, email, plan, payMethod});
  alert(`Compte créé pour ${nom} avec le plan ${plan} (${payMethod}) !`);
  hideModal();
}
</script>
</body>
</html>
